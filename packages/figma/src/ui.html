<div v-cloak>
    <section>
        <div class="panel-title">Export Variables</div>
        <div class="panel-rows">
            <div class="panel-prop">
                <label for="var-collections">Collection:</label>
                <select id="var-collections" v-model="selectedVarCollection" @change="varCollectionChange">
                    <option :value="varCollection" v-for="varCollection in varCollections" :key="varCollection.id">
                        {{ varCollection.name }}
                    </option>
                </select>
            </div>
            <div class="panel-prop">
                <label for="var-collection-default-mode">Default Mode:</label>
                <select id="var-collection-default-mode" v-model="selectedVarDefaultMode">
                    <option :value="null">None</option>
                    <option :value="mode" v-for="mode in selectedVarCollection?.modes" :key="mode.id">
                        {{ mode.name }}
                    </option>
                </select>
            </div>
            <div class="panel-prop">
                <label for="var-collection-color-space">Color Space:</label>
                <select id="var-collection-color-space" v-model="selectedVarColorSpace">
                    <option value="hex">HEX</option>
                    <option value="rgb">RGB</option>
                    <option value="hsl">HSL</option>
                    <option value="lab">LAB</option>
                    <option value="oklab">OKLAB</option>
                    <option value="oklch">OKLCH</option>
                </select>
            </div>
            <div class="panel-prop">
                <label for="var-output-indent">Indent:</label>
                <input id="var-output-indent" type="number" min="0" max="8" v-model="varOutputIndent" />
            </div>
            <button @click="copyVariables">Copy as JSON</button>
            <button @click="exportVariables">Export as JSON</button>
        </div>
    </section>
    <hr />
    <section>
        <div class="panel-title">Import Variables</div>
        <div class="panel-rows">
            <textarea id="var-input-json" v-model="inputedVarJSONStr" :placeholder="DEFAULT_INPUTED_VAR_JSON_STR"
                rows="7"></textarea>
            <div class="panel-prop">
                <label for="input-var-collections">Collection:</label>
                <select id="input-var-collections" v-model="selectedImportVarCollection">
                    <option :value="null">New</option>
                    <option :value="varCollection" v-for="varCollection in varCollections" :key="varCollection.id">
                        {{ varCollection.name }}
                    </option>
                </select>
            </div>
            <div class="panel-prop" v-if="!selectedImportVarCollection">
                <label for="input-var-collection-name">Collection Name:</label>
                <input id="input-var-collection-name" type="text" v-model="inputedVarCollectionName" :placeholder="DEFAULT_INPUTED_VAR_COLLECTION_NAME" />
            </div>
            <button @click="importVarJSON">Import</button>
        </div>
    </section>
    <hr />
</div>

<script src="./ui.ts" type="module"></script>