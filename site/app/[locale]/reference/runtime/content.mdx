## Installation [sr-only]
```bash action=install
@master/css-runtime
```

---

## Interfaces
### `CSSRuntime`
The `Runtime` extends the [`MasterCSS`](/reference/core#mastercss) and only works in the browser environment.
```ts
import CSSRuntime from '@master/css-runtime'

const cssRuntime = new CSSRuntime(config)
```

### `CSSRuntime.instances`
All objects instantiated via `js new WeakMap()`.
<DocProp defaultValue="[]" types={['WeakMap<Document | ShadowRoot, CSSRuntime>']} />

### `cssRuntime.root`
Observe the root element.
<DocProp defaultValue="document" types={['Document', 'ShadowRoot']} />

### `cssRuntime.host`
Observe the root's host element, usually `js this.root.host` or `js document.documentElement`.
<DocProp defaultValue="auto" types={['Element']} readonly />

### `cssRuntime.container`
Container for inserting style `html <style>`.
<DocProp defaultValue="auto" types={['HTMLElement', 'ShadowRoot']} readonly />

### `cssRuntime.observing`
Observation state. `js true` after `js .observe()`; `js false` after `js .disconnect()`.
<DocProp defaultValue="auto" types={['boolean']} readonly />

### `cssRuntime.observe()`
Observe the `class` attribute changes of `js this.root` and all descendant elements.
<DocFn>
    {[ { name: 'return', type: 'this' } ]}
</DocFn>

### `cssRuntime.disconnect()`
Cancel the previous `.observe()` of `js this.root`.
<DocFn>
    {[
        { name: 'options?', type: 'MutationObserverInit', defaultValue: '{ subtree: true, childList: true }' },
        { name: 'return', type: 'this' },
    ]}
</DocFn>

### `cssRuntime.refresh()`
Refresh the Master Runtime CSS with the configuration.
<DocFn>
    {[
        { name: 'config?', type: 'Config', defaultValue: 'this.customConfig' },
        { name: 'return', type: 'this' },
    ]}
</DocFn>

### `cssRuntime.reset()`
Clear all rules and styles and reset to initial.
<DocFn>
    {[ { name: 'return', type: 'this' } ]}
</DocFn>

### `cssRuntime.destroy()`
Destroy and remove the current instance from `globalThis.cssRuntimes`.
<DocFn>
    {[ { name: 'return', type: 'this' } ]}
</DocFn>

### `globalThis.cssRuntime`
Record the registered root `document` Runtime CSS instance; the field will be recorded only after executing `js css.observe()`.
<DocProp types={['CSSRuntime']} />

### `globalThis.CSSRuntime`
<DocProp defaultValue="CSSRuntime" types={['typeof CSSRuntime']} />

### `initCSSRuntime()`
Initializes the Master CSS runtime rendering engine.
<DocFn>
    {[
        { name: 'config?', type: 'Config', defaultValue: 'undefined' },
        { name: 'return', type: 'MasterCSS' },
    ]}
</DocFn>
```ts
import { initCSSRuntime } from '@master/css-runtime'

const css = initCSSRuntime()
```
Equivalent to:
```ts
import CSSRuntime from '@master/css-runtime'

const cssRuntime = new CSSRuntime().observe()
```
