import StaticExtractionIntro from '../../../rendering-modes/components/StaticExtractionIntro.mdx'

<StaticExtractionIntro img={{
    ...require('~/site/public/images/astro-dev.png').default,
    alt: 'Astro and Master CSS',
    width: 665, height: 400 }} />

---

## Quick start
<StepSection>
    <Step $row>
        <StepL>
            ### <StepNum />Clone the example
            Copy-paste the commands to quickly start using the https://astro.se.rc.css.master.co example.

            You can skip all [installation](#installation) steps.
        </StepL>
        <StepR>
            ```bash name=Terminal
            npm create @master/css@rc my-project --example astro-with-static-extraction
            cd my-project
            npm run dev
            ```
        </StepR>
        <StepEnd/>
    </Step>
</StepSection>

---

## Installation

<StepSection>
    <Step $row>
        <StepL>
            ### <StepNum />Create a project
            If you don't have a Astro project, create one first. It's recommended to refer to [Getting Started - Astro](https://docs.astro.build/en/getting-started).
        </StepL>
        <StepR>
            ```bash name=Terminal
            npm create astro@latest my-project
            cd my-project
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Initialize configuration file
            Run the command to create a configuration file [master.css.ts](/guide/configuration).
        </StepL>
        <StepR>
            ```bash action=create
            @master/css@rc
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Install Master CSS
            Install the Master CSS extractor into your project via package managers.
        </StepL>
        <StepR>
            ```bash action=install
            @master/css.vite@rc
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Set up CSS extractor
            Add a `masterCSS` to vite plugins in `nuxt.config.ts`.
        </StepL>
        <StepR>
            ```js name=astro.config.mjs
            import masterCSS from '@master/css.vite' // [!code ++]

            export default defineNuxtConfig({
                vite: { // [!code ++]
                    plugins: [ // [!code ++]
                        masterCSS() // [!code ++]
                    ] // [!code ++]
                } // [!code ++]
            })
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Import virtual CSS module
            Import the virtual CSS module `virtual:master.css` into the `src/layouts/Layout.astro`.
        </StepL>
        <StepR>
            ```astro name=src/layouts/Layout.astro
            ---
            export interface Props {
                title: string;
            }

            import "virtual:master.css"; // [!code ++]

            const { title } = Astro.props;
            ---
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Launch server
            Run `npm run dev` to start your Astro development server
        </StepL>
        <StepR>
            ```bash name=Terminal
            npm run dev
            ```
        </StepR>
    </Step>
    <Step>
        ### <StepNum />Start using Master CSS
        Now style your first element using Master CSS syntax!
        ```astro name=src/pages/index.astro
        ---
        import Layout from '../layouts/Layout.astro';
        ---
        <Layout title="Welcome to Astro.">
            <main>
                <h1 class="font:40 font:heavy italic m:12x text:center">Hello World</h1>
            </main>
        </Layout>
        ```
        Open your browser to watch the changes.
        <HelloWorld url="localhost:3000" />
    </Step>
</StepSection>