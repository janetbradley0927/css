## What is Master CSS? [sr-only]

---

## The CSS language
Master CSS is a markup-driven CSS language with smart rules allowing you to write familiar CSS using concise syntax within HTML/JSX.

Under the hood, Master CSS automatically adds [vendor prefixes](/guide/browser-support), smartly [ordering CSS rules](#smart-rule-ordering), and more. This allows you to focus on building your website rather than spending a lot of effort writing and maintaining CSS rules.

<Demo $py={0}>
    <h1 className="fg:indigo fg:red:hover font:32 font:40@sm font:heavy m:10x text:center">Hello World</h1>
</Demo>
```html name=hero.html
<h1 class="fg:indigo fg:red:hover font:32 font:40@sm font:heavy m:10x text:center">
    Hello World
</h1>
```
[Declaring styles](/guide/style-declarations) through the `class` attribute, attaching [selector states](/guide/state-selectors), and even base them on [conditional queries](/guide/conditional-queries). There's no need to write any inline style sheets, including creating external CSS files; just add syntax classes in your HTML.

You can write atomic classes `text:center` or [abstract styles](/guide/components) `btn` based on the characteristics of your project and team.


### Structured Syntax
Writing the same syntax as `style=""` within `class=""` serves no purpose. We aim to provide a logically simplified CSS declaration with an elegant syntax.

It can be reducible:
```html
<!-- Same as native CSS -->
<div class="text-align:center">
<!-- Ambiguous shorthand -->
<div class="text:center">
<!-- Abbreviation -->
<div class="t:center">
```
It can be elegant:
```html
<!-- Set the background to blue-60 with an opacity of .5 -->
<div class="bg:blue-60/.5">
<!-- Magnify to 1.5x -->
<div class="scale(1.5)">
<!-- Transition with a delay of 0.3s and timing-function "ease" -->
<div class="~transform|.3s|ease">
<!-- Use a utility class that translates to "display: block" -->
<div class="block">
```
It can be [stateful and selectable](/guide/selectors):
```html
<!-- Set a pink background on hover -->
<div class="bg:pink:hover">
<!-- Set a pink background for all subsequent sibling elements -->
<div class="bg:pink~*">
<!-- All subsequent div siblings -->
<div class="bg:pink+div">
<!-- All descendant p elements -->
<div class="bg:pink_:where(p)">
<!-- Use simplified :first instead of :nth-child to set pink background -->
<div class="bg:pink:first">
```
It can be [responsive](/guide/responsive-design) and [conditional](/guide/apply-conditionally):
```html
<!-- Set width to 50rem, when screen width >=1024 -->
<div class="width:800@>=1024">
<!-- Similar to previous example, using a built-in breakpoint -->
<div class="width:800@sm">
<!-- Screen width >= 600px & < 1279.98px top at 0.0625rem -->
<div class="top:1@xs&<lg">
<!-- Set background to gray-20 when in dark mode -->
<div class="bg:gray-20@dark">
<!-- Hide element for print -->
<div class="hidden@print">
<!-- Fade with a 0.2s delay when low motion is not specified by the client -->
<div class="@fade|.2s@motion">
```
These examples are only the tip of the iceberg.

"I'd need to learn a new language to use Master CSS."

Rest assured, the Master CSS syntax is based on native CSS, positioned very similarly to [SASS](https://sass-lang.com). You can begin by writing familiar native-ish CSS and gradually incorporate our enhancements and syntactic sugar over time.

### Injected Syntax Highlighting
Master CSS is the first language to highlight class names fully, making identifying their properties, appearance, and state faster.

(!) Do you find writing utility classes sometimes seem lengthy or hard to read?
<Demo $py={0}>
    <DemoPanel>
        <code className="font:16@sm token language-html">
            <span className="token tag"><span className="token tag"><span className="token punctuation">&lt;</span>div</span> <span className="token attr-name">class</span><span className="token attr-value"><span className="token punctuation attr-equals">=</span><span className="token punctuation">"</span>sm:hover:bg-[#ceb195] …<span className="token punctuation">"</span></span><span className="token punctuation">&gt;</span></span>
        </code>
    </DemoPanel>
</Demo>
(o) Light up your class names in markup from now on!
<Demo $py={0}>
    <DemoPanel>
        <InlineCode lang="html" className="font:16@sm">{'<div class="bg:#ceb195:hover@sm …">'}</InlineCode>
    </DemoPanel>
</Demo>
This feature is included in the [Master CSS Language Service](/guide/language-service).

A factual study by [PPIG](https://en.wikipedia.org/wiki/Psychology_of_programming) finds that syntax highlighting helps comprehension and reduces time to internalize a language.

(!) This is a template markup written by a utility-first framework.
```text
mt-9 rounded-lg flex text-slate-700 hover:bg-slate-200 sm:bg-slate-300
mt-9 rounded-lg flex text-slate-700 hover:bg-slate-200 sm:bg-slate-300
mt-9 rounded-lg flex text-slate-700 hover:bg-slate-200 sm:bg-slate-300
```
(o) Improve readability with syntax highlighting.
```mcss
mt:9x r:2x flex fg:slate-70 bg:slate-20:hover bg:slate-30@sm
mt:9x r:2x flex fg:slate-70 bg:slate-20:hover bg:slate-30@sm
mt:9x r:2x flex fg:slate-70 bg:slate-20:hover bg:slate-30@sm
```
We take pride in the experience improvement of syntax highlighting in template markup. This feature effectively reduces discomfort caused by "long class names" and facilitates a quick understanding of the overall style.

Master CSS also features autocompletion, generated CSS preview, and more. Check out our [Language Service](/guide/language-service) for more information.

### Predictable Syntax
Have you ever felt anxious about adding styles to class attributes? Master CSS was the first to introduce [syntax validation](/guide/code-linting#syntax-error-checks) of classes in template markup, which helps you find errors early before building and dramatically improves the developer experience.
<Image className="aspect:2/1 r:2x max-w:screen-xs w:full" src={require('~/site/public/syntax-error-checks.webp').default} alt="Syntax error checks" unoptimized />

(x) <span className="text:error">Invalid value for \`font\` property.</span>
```html
<!-- @MARK font: -->
<div class="font:">…</div>
```
This is just a piece of cake; we also allow you to **enforce consistent class ordering**, **legitimate class checks**, **class collision checks**, and checks for JavaScript utilities like `clsx()`.

To learn more, check out the [Code Linting](/guide/code-linting) documentation.

---

## The CSS framework
Master CSS is a standalone CSS framework that provides various packages and solutions to expedite the development, including integrations for popular JavaScript frameworks, [code linting](#code-linting) for unifying team style, [language service](#language-service) to enhance the developer experience, [configuration](/guide/configuration) API for design systems, and [more](#main-features).
<details>
    <summary>View all official packages</summary>
    <div>
        <Packages />
    </div>
</details>

### Innovative rendering technology
Master CSS provides three [rendering modes](/guide/rendering-modes), and you can choose according to project scale and application scenarios to meet your business needs.

This is a real-world benchmark of [critical CSS](https://web.dev/articles/codelab-extract-and-inline-critical-css) on page load for well-known official documentation websites.
<CriticalCSSBenchmark />
According to HTTP Archive [CSS Bytes](https://httparchive.org/reports/page-weight#bytesCss), the sum of transfer size kilobytes of all external stylesheets requested by the page is **~82 kB**, excluding internal and inline styles.

Master CSS only injects the CSS required by the page, so the official documentation site is super tiny, about **~6 kB per page** (brotli).
{/* Reducing [critical CSS](https://web.dev/articles/codelab-extract-and-inline-critical-css) can improve page loading speed, browser rendering performance, and SEO metrics. */}

One of the most unique, the [progressive rendering](/guide/rendering-modes#progressive-rendering) works by pre-rendering the critical CSS based on the element's class names and deferring the runtime engine for any future dynamic class names.
```html name=index.html
<!DOCTYPE html>
<html lang="en">
<head>
    …
    <!-- Generate only the critical CSS required for the page. -->
    <style id="master">
        .block { /* [!code ++] */
            display: block /* [!code ++] */
        } /* [!code ++] */
    </style>
    <script src="https://cdn.master.co/css-runtime@rc" defer></script>
</head>
<body>
    <!-- @MARK block -->
    <h1 class="block">Hello World</h1>
</body>
</html>
```
This ensures the page generates the ultra-lightweight CSS and the fastest first-page render, unlike traditionally bundling styles across the entire application.

Initially, Master CSS was intended to create a CSS engine for production browser runtimes, so we concentrated on performance such as syntax parsing, rule generation, cache sharing, and even browser rendering.

Master CSS doesn't use heavy-duty build tools like PostCSS, Autoprefixer, or any minifiers, as these rules are generated with optimization.

### The foundation for design systems
Master CSS provides rich [configuration](/guide/configuration) to help you build a consistent, easy-to-manage, and scalable design system. We've built a series of neutral design tokens and created a universal Master Design System, which makes your design system on top of or use it as a quick starting point.

---

## Why Master CSS?
The Master CSS syntax is designed to be simple, readable, and easy to learn. It allows you to write CSS in a way that is more intuitive and less error-prone than traditional CSS.

### Premature abstraction
<PrematureAbstraction />

However, it involved writing a substantial amount of code in card.css, and it required making numerous decisions along the way:

- What do we call this card?
- Has the class name `.card` been used?
- Is there a convention being used that arrives at the name `.card-text`? Has it been accepted by everyone?
- Do other cards use the same style? Is code-sharing working for `.card`?
- If we need to make small adjustments to this card, would we need to create another name?
- The styling of this card might not be reusable.
- What do we call the card on the homepage? How about on other pages?
- Do we adjust the `.card` for those previously mentioned cards?
- Other elements look like `.card`, but they aren't cards!
- `.card` may need to be extended; its style is used everywhere.
- Switching back and forth between HTML and CSS
- Is this following best practices?
- ...

The aforementioned challenges were solely focused on styling one card; now, envisage the entire application's styling undergoing the same arduous process...

Traditional approaches often result in imprecise code due to uncertainties and incomplete information.

"You must have a complete design system and pixel-level design guidelines to suitably abstract styles."

### Runaway maintainability

Wait, what would the rest of the team go through when maintaining this code?

- Where is the CSS file for this card?
- Is there another CSS file with rules that affect this card?
- Are there media queries or selectors for this card that I don't know about?
- How does the computed styles of this card look? Do I need to use `!important`?
- If I modify this `.card`, would the modifications leak？
- This card needs to be extended. It looks like we need to create another class name.
- We don't need this card anymore. It should have been removed, so why is it still here?
- Whoever named this card did a poor job...
- ...

The complexities and unpredictability arising from CSS priorities/specificity can make the process even more convoluted. As the project expands, it can quickly become unmanageable, severely impacting productivity.

In contrast, Master CSS offers a "flat" approach to applying styles on elements, avoiding entanglement in complex CSS. This enables team members to onboard more efficiently and reduces the learning curve.

### Syntax-first strategy
It seems that Master CSS is against the traditional abstract coding style?

No, we advocate a mixed development strategy - **syntax first, semantic second**.

Syntax first:
- Styles with no reuse potential.
- Highly specific styles, such as hero landing, home page.
- There is no precise design specification.

Semantic secondary:
- Highly reusable styles like buttons, controls.
- Styles that need to be visually consistent, such as primary color, secondary color.
- Has a standard design system.

Design token is a core methodology for practicing design systems, so appropriately abstracting styles and markup can help you create visually consistent user interfaces more effectively, and Master CSS [configuration](/guide/configuration) is born for this.

Assuming the card can be reused, you can abstract it using [components](/guide/components) with a concise syntax:
```js name=master.css.js
export default {
    components: {
        card: {
            '': 'flex translateY(-5):hover ~transform|.2s overflow:hidden bg:white r:10',
            image: 'object:cover w:140 aspect:16/9',
            content: 'p:25',
            title: 'font:medium text:18',
            text: 'text:14 lines:2'
        }
    }
}
```
Then, use the abstract class as before:
```html name=card.html
<div class="card">
    <img class="card-image" … />
    <div class="card-content">
        <div class="card-title">Mountain</div>
        <div class="card-text">A mountain is an elevated portion of the Earth's crust, generally with steep sides that show significant exposed bedrock.</div>
    </div>
</div>
```

---

### Generate CSS based on markup
<GeneratedCSSBasedOnMarkup />

### Smart rule ordering
How is CSS rule order and priority handled?

"Center-align the homepage headline when the viewport width is `>=1280px`, and align right when it is `>=1024px`."

(x) Incorrect responsive media rules.
```css
@media (width>=80rem) {
    h1 {
        text-align: center;
    }
}

@media (width>=64rem) {
    h1 {
        text-align: right;
    }
}
```
Since the order in which CSS rules are placed affects priority, when the screen width is `>=1024/16rem` or `>=1280/16rem`, `css @media (width>=64rem) {}` will be applied, but `css @media (width>=80rem) {}` will never be applied.

You always keep your mind alert to prevent making mistakes, as the more similar rules you have, the harder it becomes to debug.

(o) Let Master CSS handle the prioritization automatically for you.
```html
<!-- @MARK text:right@md text:center@lg -->
<h1 class="text:right@md text:center@lg">
```
No matter how you write the Master CSS syntax, the correct CSS rules will be generated:
```css
@media (width>=64rem) {
    .text\:right\@md {
        text-align: right
    }
}

@media (width>=80rem) {
    .text\:center\@lg {
        text-align: center
    }
}
```
Not only that, but we also align rules with your expectations when using selectors like `:disabled`, `:active`, `:focus`, `:hover`, `:where()`, and breakpoints such as `@lg`, `@sm&<lg`, etc. As a result, you would rarely, if ever, need to use `!important`.

### Unit-sensed conversions
In web development, UI design is typically measured using pixels (px). However, to ensure a browser-friendly website, you must convert pixels to REM (Root Em) units to scale website elements across different devices and screen sizes, providing a consistent appearance and excellent user experience.

(!) Look up the `1.5rem` value corresponding to `24px` from the table.
| px  | 12    | 14    | 16    | 18    | 20    | 22    | 24    | 26    | 28    |
| --- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- |
| rem | 0.75  | 0.875 | 1     | 1.125 | 1.25  | 1.375 | 1.5   | 1.625 | 1.75  |

```html
<!-- @MARK font:1.5rem -->
<h1 class="font:1.5rem">
```

(o) Omit the text size unit and rely on the default conversion.
```html
<!-- @MARK font:24 -->
<h1 class="font:24">
```
<details>
    <summary>Generated CSS</summary>
    <Class2CSS>
        {'font:24'}
    </Class2CSS>
</details>
This not only improves productivity but also simplifies syntax markup in class attributes.

---

## Separation of concerns

Many folks believe that HTML and CSS should conform to the design principle of separation of concerns (SoC). We believe that applying SoC to HTML & CSS, is more a matter of cultural momentum and over-interpretation of SoC.

JavaScript aside, web UI consists of HTML structure and CSS for styling. CSS takes up a significant portion of time spent working on HTML and its related business logic. This implies that HTML and CSS are highly integrated and always used together.

Separating the two introduces a layer of abstraction where the cost usually outweighs the benefit, leading to [premature abstraction](#premature-abstraction).

> **You should focus on the separation/componentization of business responsibilities, not language separation.**

---

## Why not just inline styles?
(x) Inline styles cannot apply selectors, media queries, or CSS features.
```html
<button style="font-size: 0.875rem" disabled>Oops!</button>
```

(o) You can now easily control style states in markup.
```html
<!-- @MARK @md [disabled] -->
<button class="font:14 font:20@md opacity:.5[disabled]" disabled>Bravo!</button>
```

(o) Build a visually consistent UI with [design tokens](/variables-and-modes).
```html
<h1 class="font:lg fg:primary">Hello World</h1>
```

---

## Comprehensive Comparisons
Here’s a comprehensive comparison of Master CSS, Tailwind CSS and Bootstrap:
<Comparisons />

---

<StarUs />